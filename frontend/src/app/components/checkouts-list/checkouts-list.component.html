<div class="container mat-elevation-z4">
  <app-search (searchTextChanged)="onSearchTextEntered($event)"></app-search>
  <mat-card>
    <mat-card-title>Checkouts</mat-card-title>
    <mat-card-content>
      <mat-nav-list *ngIf="(checkouts$ | async) as checkouts">
        <table>
          <tr>
            <th>Book</th>
            <th>Checked out date</th>
            <th>Due date</th>
          </tr>
          <tr *ngFor="let checkout of checkouts.content" [routerLink]="['/checkouts', checkout.id]">
            <ng-container *ngIf="searchText === '' || checkout.borrowedBook.title.toLowerCase().includes(searchText)">
              <td>{{checkout.borrowedBook.title}}</td>
              <td>{{checkout.checkedOutDate}}</td>
              <td>{{checkout.dueDate}}</td>
            </ng-container>
          </tr>
        </table>
      </mat-nav-list>
    </mat-card-content>
  </mat-card>
</div>
